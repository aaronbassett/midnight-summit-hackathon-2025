# ============================================================================
# pod network RAG MCP Server - Environment Configuration
# ============================================================================
# Copy this file to .env and update values for your environment

# ============================================================================
# CHROMA CLOUD API CONFIGURATION (Required)
# ============================================================================

# Chroma Cloud API authentication key
# Get this from your Chroma Cloud dashboard
# Example: chroma_api_key_abc123def456...
CHROMA_API_KEY=your-chroma-cloud-api-key-here

# Chroma Cloud tenant ID
# Identifies your Chroma Cloud tenant/organization
# Example: tenant_id_abc123...
CHROMA_TENANT=your-chroma-cloud-tenant-id-here

# Chroma Cloud database name
# Default: pod
# The database within Chroma Cloud to query
CHROMA_DATABASE=pod

# ============================================================================
# GEMINI API CONFIGURATION (Required for Collection Discovery Tools)
# ============================================================================

# Google Gemini API key for AI-powered collection descriptions and recommendations
# Get this from https://ai.google.dev/
# Example: AIzaSyA...
GEMINI_API_KEY=your-gemini-api-key-here

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================

# Server listening port
# Default: 3000
# Where the HTTP server listens for requests
PORT=3000

# Node.js environment mode
# Options: development, production, test
# Default: development
# Affects logging verbosity and error handling
NODE_ENV=development

# Log level for structured logging
# Options: debug, info, warn, error
# Default: info
# Higher verbosity = more detailed logs (impacts performance)
LOG_LEVEL=info

# ============================================================================
# CACHE CONFIGURATION
# ============================================================================

# Cache time-to-live in seconds
# Default: 300 (5 minutes)
# How long cached results are kept before being evicted
# Higher values = fewer API calls to Chroma Cloud (stale data risk)
# Lower values = fresher data (more API overhead)
CACHE_TTL_SECONDS=300

# Maximum cache size in megabytes
# Default: 100
# Prevents unbounded memory growth from caching
# Older entries evicted when size exceeded
CACHE_MAX_SIZE_MB=100

# ============================================================================
# RATE LIMITING
# ============================================================================

# General rate limit window in milliseconds
# Default: 900000 (15 minutes)
# Time window for counting requests across all endpoints
RATE_LIMIT_WINDOW_MS=900000

# Maximum requests per window for general rate limit
# Default: 100
# Total requests allowed per IP in the rate limit window
RATE_LIMIT_MAX_REQUESTS=100

# Maximum query requests per minute per collection
# Default: 20
# Most resource-intensive operations, stricter limit recommended
RATE_LIMIT_QUERY_PER_MINUTE=20

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================

# Maximum query text length in characters
# Default: 10000
# Prevents DoS attacks via extremely long queries
MAX_QUERY_LENGTH=10000

# Maximum results returned per query
# Default: 100
# Caps response size and Chroma Cloud load
MAX_RESULTS_PER_QUERY=100

# Maximum IDs allowed per get request
# Default: 1000
# Prevents bulk operations from overwhelming the system
MAX_IDS_PER_REQUEST=1000
